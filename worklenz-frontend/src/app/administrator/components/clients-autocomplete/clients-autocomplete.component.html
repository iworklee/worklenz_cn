<form [formGroup]="form" [nzLayout]="'vertical'" nz-form>
  <nz-form-item>
    <nz-form-label [nzSpan]="null" [nzTooltipTitle]="'您可以在设置中管理客户。'">客户</nz-form-label>
    <nz-form-control [nzSpan]="null">
      <input [formControlName]="'name'" (ngModelChange)="search()" [nzAutocomplete]="jobTitlesAutoComplete"
             nz-input
             placeholder="选择客户"/>
      <nz-autocomplete #jobTitlesAutoComplete>

        <nz-auto-option *ngIf="searching">
          <span class="loading-icon" nz-icon nzType="loading"></span>
          加载数据中...
        </nz-auto-option>
        <span *ngIf="!searching">
          <nz-auto-option *ngIf="isNew" nzValue="{{ newName }}">+ 添加 "{{ newName }}"</nz-auto-option>
          <nz-auto-option *ngFor="let item of clients" [nzValue]="item.name">{{ item.name }}</nz-auto-option>
        </span>
      </nz-autocomplete>
    </nz-form-control>
  </nz-form-item>
</form>
